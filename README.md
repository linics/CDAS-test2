# Cross-Disciplinary Assignment System (CDAS)

CDAS ??? K12 ????????????????????? ? ???? ? ?? ? ????????????????? `docs/PRODUCT_DESIGN.md` ????????

## ????

- **?????v2?**???/??/????????????????????
- **?????v2?**??? ? ?? ? ???????????????knowledge/process/emotion?
- **??????v2?**????/??????????????/??/???? AI ??
- **???????**??? PDF/Word???????????? RAG?

## ??????

| ?? | ?? |
| --- | --- |
| ?? | FastAPI + Pydantic v2 |
| ORM/??? | SQLAlchemy 2.x + SQLite???? |
| Vector DB | ChromaDB??????? |
| AI/RAG | LLM + Embedding + Rerank??????????? |
| ???? | PyPDF2 / python-docx + ????? |

?????
- `app/api/v2/*`?v2 ???auth/subjects/assignments/submissions/evaluations?
- `app/services/*`??????????????????
- `app/models/*`??????User/Subject/Assignment/Submission/Evaluation/Document?

## ????

1. **????**
   ```bash
   git clone https://github.com/your-org/CDAS-test2.git
   cd CDAS-test2
   ```
2. **??????????**
   ```bash
   python -m venv .venv
   .\.venv\Scriptsctivate
   ```
3. **????**
   ```bash
   pip install -r requirements.txt
   ```
4. **?? `.env`????**
   ```env
   CDAS_DATABASE_URL=sqlite:///./storage/cdas.db
   CDAS_GEMINI_API_KEY=your_gemini_key_here
   CDAS_GEMINI_MODEL=models/gemini-1.5-pro-latest
   CDAS_GEMINI_EMBEDDING_MODEL=models/text-embedding-004
   ```
5. **????**
   ```bash
   uvicorn app.main:app --reload
   ```

## ?????

- Swagger ???`http://127.0.0.1:8000/docs`
- ?????`GET /health`

## ??????

| ?? | ??? | ?? |
| --- | --- | --- |
| `CDAS_DATABASE_URL` | `sqlite:///./storage/cdas.db` | ????? PostgreSQL URL |
| `CDAS_DOCUMENTS_DIR` | `./storage/documents` | ?????? |
| `CDAS_CHROMA_PERSIST_DIR` | `./storage/chroma` | ????? |
| `CDAS_GEMINI_API_KEY` | - | LLM Key??????????? |
| `CDAS_GEMINI_MODEL` | `models/gemini-1.5-pro-latest` | LLM ?? |
| `CDAS_GEMINI_EMBEDDING_MODEL` | `models/text-embedding-004` | Embedding ?? |

## API ?????

### v2??????
- ???`/api/v2/auth`?`register/login/me`?
- ???`/api/v2/subjects`
- ?????`/api/v2/assignments`???/??/???????
- ???`/api/v2/submissions`
- ???`/api/v2/evaluations`

### ???????
- ??/??/??/???`/api/documents/*`

## ????

```
app/
  api/
    v2/
  config.py
  db.py
  models/
  schemas/
  services/
  utils/
docs/
  PRODUCT_DESIGN.md
  PRODUCT_DESIGN_SUPPLEMENT.md
  CDAS_step_plan_v2.md
  API_frontend_integration_v2.md
  legacy/
examples/
storage/
```

## ?????

- `docs/PRODUCT_DESIGN.md`??????????
- `docs/PRODUCT_DESIGN_SUPPLEMENT.md`??????????
- `docs/CDAS_step_plan_v2.md`?v2-only ????
- `docs/API_frontend_integration_v2.md`?v2 ??????
- `docs/legacy/`???????

## ?????

- ???? v2 ?????????
- ??????? JWT + ????
- ???????????Alembic + PostgreSQL?
